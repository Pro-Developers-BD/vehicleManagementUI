<div class="row">
  <div class="col-12">
    <div class="pageTitle text-left">
      <h4 class="mb-n1 text-center">{{pageTitle}}</h4>
    </div>
  </div>

  <div class="col-12 inner-wraper ml-2">
    <form [formGroup]="carStockDeatilsForm" (ngSubmit)="uploadSubmit()">

      <div formGroupName="carCompany">
        <div class="row form-group">
          <div class="col-3 pb-2">
            <label for="id" class="col-form-label">Company</label>
          </div>
          <div class="col-8 pt-1">
            <select class="form-control" formControlName="id" id="id"
                    (change)="getCompanyByClient($event)">
              <option disabled value="" selected>Select One</option>
              <option *ngFor="let com of carCompanyList; let i=index;"
                      [value]="com.id">{{com.carCompanyName}}</option>
            </select>
          </div>
        </div>
      </div>

      <div formGroupName="carModel">
        <div class="row form-group">
          <div class="col-3 pb-2">
            <label for="id" class="col-form-label">Brand</label>
          </div>
          <div class="col-8 pt-1">
            <select class="form-control" formControlName="id" id="id"
                    (change)="getModelByCompany($event)">
              <option disabled value="" selected>Select One</option>
              <option *ngFor="let model of carModelList; let i=index;"
                      [value]="model.id">{{model.carModelName}}</option>
            </select>
          </div>
        </div>
      </div>

      <div formGroupName="carGrade">
        <div class="row form-group">
          <div class="col-3 pb-2">
            <label for="id" class="col-form-label">Grade</label>
          </div>
          <div class="col-8 pt-1">
            <select class="form-control" formControlName="id" id="id">
              <option disabled value="" selected>Select One</option>
              <option *ngFor="let grade of carGradeList; let i=index;"
                      [value]="grade.id">{{grade.gradeName}}</option>
            </select>
          </div>
        </div>
      </div>

      <div class="row form-group">
        <div class="col-3 pb-2">
          <label for="engineNo" class="col-form-label">Engine No</label>
        </div>
        <div class="col-8">
          <input class="form-control" type="number" id="engineNo" formControlName="engineNo">
        </div>
      </div>

      <div class="row form-group">
        <div class="col-3 pb-2">
          <label for="chassisNo" class="col-form-label">Chassis No</label>
        </div>
        <div class="col-8">
          <input class="form-control" type="number" id="chassisNo" formControlName="chassisNo">
        </div>
      </div>
      <div class="row form-group">
        <div class="col-3 pb-2">
          <label for="yearOfModel" class="col-form-label">Year Model</label>
        </div>
        <div class="col-8">
          <input class="yearModel" type="date" id="yearOfModel" formControlName="yearOfModel" [valueAsDate]="01-01-2015"/>
          <!--  <input id="yearOfModel" formControlName="yearOfModel" placeholder="Select Year" [dpDayPicker]="config"
                   mode="month"/>-->
        </div>
      </div>

      <div formGroupName="carStockDetails">

        <div formGroupName="client">
          <div class="row form-group">
            <div class="col-3 pb-2">
              <label for="id" class="col-form-label">Client</label>
            </div>
            <div class="col-8 pt-1">
              <select class="form-control" formControlName="id" id="id">
                <option disabled value="" selected>Select One</option>
                <option *ngFor="let client of clientList; let i=index;"
                        [value]="client.id">{{client.customerName}}</option>
              </select>
            </div>
          </div>
        </div>

        <div class="row form-group">
          <div class="col-3 pb-2">
            <label for="carType" class="col-form-label">Car Type</label>
          </div>
          <div class="col-8">
            <select class="form-control" formControlName="carType" id="carType">
              <option disabled value="" selected>Select One</option>
              <option *ngFor="let type of carTypeArr; let i=index;"
                      [value]="type.value">{{type.value}}</option>
            </select>
          </div>
        </div>

        <div class="row form-group">
          <div class="col-3 pb-2">
            <label for="color" class="col-form-label">Color</label>
          </div>
          <!-- <div class="col-8 pt-1">
             <select class="form-control" formControlName="color" id="color"
                     (change)="getColorByCar($event.target.value)">
               <option disabled value="" selected>Select One</option>
               <option *ngFor="let clr of colorList; let i=index;"
                       [value]="clr.id">{{clr.colorName}}</option>
             </select>
           </div>-->
          <div class="col-8">
            <input class="form-control" type="text" id="color"
                   formControlName="color">
          </div>
        </div>

        <div class="row form-group">
          <div class="col-3 pb-2">
            <label for="price" class="col-form-label">Price</label>
          </div>
          <div class="col-8">
            <input class="form-control" type="number" step=0.01 id="price" formControlName="price">
          </div>
        </div>
        <div class="row form-group">
          <div class="col-3 pb-2">
            <label for="carAuction" class="col-form-label">Car Auction</label>
          </div>
          <div class="col-8">
            <input class="form-control" type="text" id="carAuction"
                   formControlName="carAuction">
          </div>
        </div>

        <div class="row form-group">
          <div class="col-3 pb-2">
            <label for="availableStatus" class="col-form-label">Available(if checked then yes)</label>
          </div>
          <div class="col-1">
            <input class="form-control" type="checkbox" class="form-control" name="availableStatus" id="availableStatus"
                   [checked]="isChecked==true" (change)="onChecked($event)">
          </div>
        </div>

        <div class="col-12">
          <div class="row">
            <div class="col-4 no-gutters upload-image">
             <img *ngIf="stock?.content?.media?.id && !imgURL" class="mt-2"
                   src="{{baseUrl}}/media/{{stock?.content?.media?.id}}" height="100" width="100" />
              <img [src]="imgURL" height="200" width="200" *ngIf="imgURL" />
              <p>{{name}}</p>
            </div>
              <div class="form-group col-4">
                <label for="imagePath" class="custom-file-upload">
                  Upload Car Image
                </label><span class="text-danger"> (*)</span>
                <input #file id="imagePath" type="file" formControlName="imagePath" accept='image/*'
                       ng2FileSelect [uploader]="uploader" (change)="preview(file.files)" />
                <!-- <div *ngIf="submitted && imagePath2.invalid" class="alert alert-danger">
                    <div *ngIf="imagePath2.errors.required">
                        {{ 'REQUIRED.media' | translate }}
                    </div>
                </div> -->
                <!-- <div class="alert alert-danger" *ngIf="imageRequired !=''">
                     &lt;!&ndash;  {{imageRequired}} &ndash;&gt;
                     Image is required
                 </div>-->
              </div>
          </div>

        </div>
      </div>
      <div class="row">
        <div class="mt-2 pr-2 ml-3">
          <input type="reset" class="btn btn-lg btn-danger" value="Reset">
        </div>
        <div class="mt-2">
          <input type="submit" class="btn btn-lg btn-success" value="Save">
        </div>
      </div>
    </form>
  </div>
</div>

